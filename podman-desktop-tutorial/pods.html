<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Working with Pods :: Podman Desktop Tutorial</title>
    <link rel="canonical" href="https://redhat-scholars.github.io/podman-desktop-tutorial/podman-desktop-tutorial/pods.html">
    <link rel="prev" href="running-containers.html">
    <link rel="next" href="kubernetes.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://developers.redhat.com" target="_blank"><img src="../_/img/RHDLogo.svg" height="40px" alt="Red Hat Developer Program"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://redhat-scholars.github.io/podman-desktop-tutorial">Podman Desktop Tutorial</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <a class="navbar-item" href="https://developers.redhat.com/cheatsheets/" target="_blank">Cheat Sheets</a>
        <a class="navbar-item" href="https://developers.redhat.com/events/" target="_blank">Upcoming Events</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="podman-desktop-tutorial" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Podman Desktop Fundamentals</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="env-setup.html">Environment Setup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="intro.html">Introduction to Containers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="podman-basics.html">Podman Desktop Interface &amp; Essentials</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Working with Podman Desktop</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="building-images.html">Building Images in Podman Desktop</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="running-containers.html">Running and Managing Containers</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="pods.html">Working with Pods</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Targeting Kubernetes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="kubernetes.html">Kubernetes Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="kubernetes-deploying.html">Deploying to Kubernetes</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Resources</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="resources.html">Conclusion &amp; Resources</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Podman Desktop Tutorial</a></li>
    <li>Working with Podman Desktop</li>
    <li><a href="pods.html">Working with Pods</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/redhat-scholars/podman-desktop-tutorial/edit/master/documentation/modules/ROOT/pages/pods.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Working with Pods</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In the previous step, we successfully built, ran, and tested a multi-container application using Podman Desktop. As you know, we had to do a workaround to get the IP from the Redis container and then pass that in as an environment variable to the Quarkus container, which wasn&#8217;t a very sustainable way to do our local container work. On a production environment, workloads with close affinity might actually be deployed in the same localhost network. To accomplish this same behavior, we could create a docker-compose.yml file and run it with podman (You installed docker-compose during the setup of Podman Desktop). Feel free to check out the <code>docker-compose.yml</code> file in the root directory of podify-quarkus-redis project and then run the following command:</p>
</div>
<div class="listingblock console-output">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cd ~/podify-quarkus-redis &amp;&amp; podman compose up</code></pre>
</div>
</div>
<div class="paragraph">
<p>You&#8217;ll notice that both containers are started together and you can even test the application in your browser again.</p>
</div>
<div class="paragraph">
<p>The downside of using Docker Compose is that you will need expertise in creating docker-compose.yml files, and it&#8217;s a little bit of a dead-end street, since you cannot take the definitions in the compose files further to a Kubernetes environment.</p>
</div>
<div class="paragraph">
<p>What if instead we could create a nice little 'pod' for our containers to live in together and share their resources? As the name of the project already implies, that&#8217;s of course exactly what Podman can do!</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Podman Desktop streamlines the process of creating a pod from existing containers, offering a seamless transition from development to Kubernetes, where Pods are the most basic deployable units.</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_a_bit_about_pods"><a class="anchor" href="#_a_bit_about_pods"></a>A Bit about Pods</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://developers.redhat.com/blog/2019/01/15/podman-managing-containers-pods">Pods</a> are a fundamental concept in container orchestration systems like Kubernetes and OpenShift. They provide an abstraction layer that encapsulates one or more containers, treating them as a single entity.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/podman-pod-architecture.png" alt="Podman Desktop Overview" width="600">
</div>
</div>
<div class="paragraph">
<p>Pods offer several key advantages over running containers individually, including:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Simplified management and scalability</strong>: Pods allow you to manage related containers as a single entity, simplifying deployment, scaling, and monitoring processes. By grouping containers that need to work together, you can easily scale your application by adding or removing pod replicas. However, pods are designed to be the smallest deployable unit, and you should avoid running unrelated containers within the same pod.</p>
</li>
<li>
<p><strong>Efficient resource sharing</strong>: Containers within a pod share the same network namespace, enabling them to communicate with each other using <code>localhost</code>. This eliminates the need for complex networking configurations and allows for efficient inter-container communication. Additionally, pods can share volumes, ensuring data persistence and enabling containers to access the same data simultaneously.</p>
</li>
<li>
<p><strong>Enhanced security and isolation</strong>: Pods provide a level of isolation and security by default. Each pod has its own unique IP address and can define its own network policies, limiting access to and from other pods. Moreover, resource limits and security policies can be applied at the pod level, ensuring better control over the containers' runtime environment.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_pods_from_podman_desktop"><a class="anchor" href="#_creating_pods_from_podman_desktop"></a>Creating Pods from Podman Desktop</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Podman Desktop&#8217;s <em>Podify</em> feature takes advantage of these pod benefits by simplifying the process of creating a pod from existing containers. Let&#8217;s walk through the steps to create a pod from the Quarkus app and Redis containers.</p>
</div>
<div class="paragraph">
<p>You will need to change the environment variable <code>redis</code> to point to <code>localhost</code> instead of the hard coded IP we set earlier. In order to do so, delete the existing quarkus-app container and create a new one from the images tab.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
the Quarkus application is by default configured to look for a Redis instance on <code>localhost</code> already, so you don&#8217;t actually need to set the environment variable this time. Just create a new container with name <code>quarkus-app</code>, and continue with the instructions below.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In the <strong>Containers</strong> section of Podman Desktop, select both the <code>quarkus-app</code> and <code>redis</code> containers using the checkboxes. Now, click on the <strong>Podify</strong> button from the top right corner menu to initiate the pod creation process.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/podman-desktop-podify-button2.png" alt="Podman Desktop Podify" width="600">
</div>
</div>
<div class="paragraph">
<p>A new window will appear, allowing you to configure basic pod parameters. Provide a meaningful name for the pod, such as <code>summit-pod</code>. Once satisfied, click the <strong>Create Pod</strong> button.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/podman-desktop-podify-window2.png" alt="Podman Desktop Podify" width="600">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You&#8217;ll notice that you only have the option to expose the port of the Quarkus container. Due to the pod&#8217;s internal networking, it&#8217;s not necessary to expose the Redis port externally for this application, as they can communicate using <code>localhost</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Podman Desktop will now stop the existing containers and create a new pod that encapsulates the selected containers. To view the pod&#8217;s details and manage its lifecycle, navigate to the <strong>Pods</strong> section in the Podman Desktop interface.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/podman-desktop-pods-created.png" alt="Podman Desktop Pods" width="600">
</div>
</div>
<div class="paragraph">
<p>Once selected, you can view the individual container logs within the pod, their Kubernetes manifest, view the application&#8217;s exposed port in the browser, or directly deploy the pod to a local or remote Kubernetes cluster.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/podman-desktop-pod-details-deploy.png" alt="Podman Desktop Pod Details" width="600">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_steps"><a class="anchor" href="#_next_steps"></a>Next Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Congratulations! You&#8217;ve gained an understanding of Podman Desktop&#8217;s "Podify" feature and its role in creating efficient and manageable pods. In the next step, we&#8217;ll dive into deploying this pod to a Kubernetes cluster and explore advanced features of Podman Desktop that empower you to streamline your containerized application development process.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="running-containers.html">Running and Managing Containers</a></span>
  <span class="next"><a href="kubernetes.html">Kubernetes Overview</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://developers.redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
